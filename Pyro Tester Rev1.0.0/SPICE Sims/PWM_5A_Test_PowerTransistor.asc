Version 4
SHEET 1 2168 680
WIRE -688 -464 -720 -464
WIRE -576 -464 -608 -464
WIRE -64 -464 -576 -464
WIRE -720 -432 -720 -464
WIRE -576 -352 -576 -464
WIRE -576 -352 -592 -352
WIRE -1040 -272 -1072 -272
WIRE -688 -272 -960 -272
WIRE -640 -272 -688 -272
WIRE -64 -256 -64 -464
WIRE -1072 -240 -1072 -272
WIRE -592 -208 -592 -256
WIRE -528 -208 -592 -208
WIRE -128 -208 -448 -208
WIRE -64 -80 -64 -160
WIRE -64 -16 -64 -80
WIRE 16 112 -80 112
WIRE 208 112 16 112
WIRE 688 112 304 112
WIRE 688 160 688 112
WIRE -80 176 -80 112
WIRE 16 176 16 112
WIRE 192 208 144 208
WIRE 256 208 256 176
WIRE 256 208 192 208
WIRE -80 304 -80 240
WIRE 16 304 16 256
WIRE 16 304 -80 304
WIRE 96 304 16 304
WIRE 304 304 96 304
WIRE 384 304 304 304
WIRE 528 304 464 304
WIRE 688 304 688 240
WIRE 688 304 528 304
WIRE 96 352 96 304
FLAG 96 352 0
FLAG -1072 -240 0
FLAG 528 304 PREAMP
FLAG 304 304 POSTAMP
FLAG -688 -272 CTRL
FLAG 192 208 BASE
FLAG -720 -432 0
FLAG -64 -80 BASE
SYMBOL res 480 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value .1
SYMBOL res 672 144 R0
SYMATTR InstName R2
SYMATTR Value 2
SYMBOL voltage 16 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -944 -272 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 48 0 0 0 0.00004 0.00005 500)
SYMBOL cap -96 176 R0
SYMATTR InstName C1
SYMATTR Value .0012
SYMBOL npn 208 176 R270
SYMATTR InstName Q2
SYMATTR Value FZT849
SYMBOL voltage -592 -464 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res -544 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 9000
SYMBOL npn -128 -256 R0
SYMATTR InstName Q1
SYMATTR Value 2SC4102
SYMBOL nmos -640 -352 R0
SYMATTR InstName M2
SYMATTR Value Si7336ADP
TEXT -240 376 Left 2 !.tran 1
TEXT 944 0 Left 2 ;Need a way to sink the extra current to ground, I think
TEXT 952 48 Left 2 ;Will need flyback diodes to handle voltage spikes if R2 opens, and should also use that event to close M1
TEXT 248 -456 Left 2 ;Plan: Final transistor has gain of 100. Need 5A, so need to provide ~50mV. Inductance is a pain; going to use a darlington pair.\n2N3904 has gain of 40. Need to provide 1.25mA.
